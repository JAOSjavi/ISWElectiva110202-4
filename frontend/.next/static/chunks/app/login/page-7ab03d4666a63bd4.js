(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{5773:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var a=t(5155),r=t(2115),n=t(5695);t(6766);var i=t(6874),l=t.n(i);function d(){let e=(0,n.useRouter)(),[s,t]=(0,r.useState)({username:"",password:""}),[i,d]=(0,r.useState)(""),[o,c]=(0,r.useState)(!1),m=e=>{let{name:s,value:a}=e.target;t(e=>({...e,[s]:a}))},u=async t=>{t.preventDefault(),d(""),c(!0);try{let t=await fetch("".concat("http://localhost:8000","/api/registro/login/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),a=await t.json();t.ok?(localStorage.setItem("token",a.access),localStorage.setItem("refresh_token",a.refresh),localStorage.setItem("is_admin",a.is_admin),localStorage.setItem("is_superuser",a.is_superuser),a.is_superuser||a.is_admin?e.push("/admin/home"):e.push("/home")):d(a.detail||"Error al iniciar sesi\xf3n")}catch(e){d("Error de conexi\xf3n con el servidor")}finally{c(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-[#FFF3E0] flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[(0,a.jsx)("div",{className:"text-center mb-8",children:(0,a.jsx)("h1",{className:"text-3xl font-bold text-[#8B4513]",children:"Iniciar Sesi\xf3n"})}),i&&(0,a.jsx)("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded",children:i}),(0,a.jsxs)("form",{onSubmit:u,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de Usuario"}),(0,a.jsx)("input",{type:"text",name:"username",value:s.username,onChange:m,required:!0,className:"w-full p-2 border rounded text-black"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contrase\xf1a"}),(0,a.jsx)("input",{type:"password",name:"password",value:s.password,onChange:m,required:!0,className:"w-full p-2 border rounded text-black"})]}),(0,a.jsx)("button",{type:"submit",disabled:o,className:"w-full bg-[#8B4513] text-white py-2 px-4 rounded hover:bg-[#CD853F] transition-colors disabled:opacity-50",children:o?"Iniciando sesi\xf3n...":"Iniciar Sesi\xf3n"})]}),(0,a.jsx)("div",{className:"mt-4 text-center",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["\xbfNo tienes una cuenta?"," ",(0,a.jsx)(l(),{href:"/register",className:"text-[#8B4513] hover:underline",children:"Reg\xedstrate aqu\xed"})]})})]})})}},8734:(e,s,t)=>{Promise.resolve().then(t.bind(t,5773))}},e=>{var s=s=>e(e.s=s);e.O(0,[244,766,441,684,358],()=>s(8734)),_N_E=e.O()}]);