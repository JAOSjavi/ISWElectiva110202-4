(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{4436:(e,t,s)=>{"use strict";s.d(t,{k5:()=>d});var a=s(2115),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},r=a.createContext&&a.createContext(i),n=["attr","size","title"];function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(Object(s),!0).forEach(function(t){var a,i,r;a=e,i=t,r=s[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var a=s.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in a?Object.defineProperty(a,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[i]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function d(e){return t=>a.createElement(h,c({attr:o({},e.attr)},t),function e(t){return t&&t.map((t,s)=>a.createElement(t.tag,o({key:s},t.attr),e(t.child)))}(e.child))}function h(e){var t=t=>{var s,{attr:i,size:r,title:l}=e,d=function(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}(e,n),h=r||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),a.createElement("svg",c({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,d,{className:s,style:o(o({color:e.color||t.color},t.style),e.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),l&&a.createElement("title",null,l),e.children)};return void 0!==r?a.createElement(r.Consumer,null,e=>t(e)):t(i)}},5244:(e,t,s)=>{Promise.resolve().then(s.bind(s,9915))},9915:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(5155),i=s(2115),r=s(6766),n=s(6874),c=s.n(n),l=s(5695),o=s(9911);function d(){let e=(0,l.useRouter)(),[t,s]=(0,i.useState)([]),[n,d]=(0,i.useState)(!0),[h,x]=(0,i.useState)(null);(0,i.useEffect)(()=>{m()},[]);let m=async()=>{try{let e=await fetch("".concat("http://localhost:8000","/api/habitaciones/"));if(e.ok){let t=await e.json();s(t)}else x("Error al cargar las habitaciones")}catch(e){x("Error de conexi\xf3n con el servidor")}finally{d(!1)}},b=async()=>{try{(await fetch("".concat("http://localhost:8000","/api/habitaciones/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tipo_habitacion:"Nueva Habitaci\xf3n",numero_habitacion:"Nuevo",precio:0,estado:!0})})).ok?(m(),alert("Habitaci\xf3n agregada exitosamente")):x("Error al agregar la habitaci\xf3n")}catch(e){x("Error de conexi\xf3n con el servidor")}},u=async e=>{try{(await fetch("".concat("http://localhost:8000","/api/habitaciones/").concat(e,"/"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({tipo_habitacion:"Habitaci\xf3n Actualizada",numero_habitacion:"Actualizado",precio:0,estado:!0})})).ok?(m(),alert("Habitaci\xf3n actualizada exitosamente")):x("Error al actualizar la habitaci\xf3n")}catch(e){x("Error de conexi\xf3n con el servidor")}},p=async e=>{if(window.confirm("\xbfEst\xe1s seguro de que deseas eliminar esta habitaci\xf3n?"))try{(await fetch("".concat("http://localhost:8000","/api/habitaciones/").concat(e,"/"),{method:"DELETE"})).ok?(m(),alert("Habitaci\xf3n eliminada exitosamente")):x("Error al eliminar la habitaci\xf3n")}catch(e){x("Error de conexi\xf3n con el servidor")}};return n?(0,a.jsx)("div",{className:"min-h-screen bg-[#FFF3E0] flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-[#8B4513] text-xl",children:"Cargando..."})}):h?(0,a.jsx)("div",{className:"min-h-screen bg-[#FFF3E0] flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-red-600 text-xl",children:h})}):(0,a.jsxs)("div",{className:"min-h-screen bg-[#FFF3E0]",children:[(0,a.jsxs)("div",{className:"fixed left-0 top-0 h-full w-64 bg-[#8B4513] p-4 flex flex-col",children:[(0,a.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,a.jsxs)(c(),{href:"/admin",className:"flex items-center space-x-3 p-3 bg-[#CD853F] text-white rounded-lg hover:bg-[#DEB887] transition-colors",children:[(0,a.jsx)(o.rQ8,{size:24}),(0,a.jsx)("span",{className:"text-lg font-semibold",children:"Dashboard"})]}),(0,a.jsxs)(c(),{href:"/admin",className:"flex items-center space-x-3 p-3 bg-[#8B4513] text-white rounded-lg hover:bg-[#A0522D] transition-colors",children:[(0,a.jsx)(o.inQ,{size:24}),(0,a.jsx)("span",{className:"text-lg font-semibold",children:"Habitaciones"})]}),(0,a.jsxs)(c(),{href:"/admin/availability",className:"flex items-center space-x-3 p-3 bg-[#CD853F] text-white rounded-lg hover:bg-[#DEB887] transition-colors",children:[(0,a.jsx)(o.v$b,{size:24}),(0,a.jsx)("span",{className:"text-lg font-semibold",children:"Disponibilidad"})]})]}),(0,a.jsxs)("button",{onClick:()=>{e.push("/login")},className:"flex items-center space-x-3 p-3 mt-4 bg-[#A0522D] text-white rounded-lg hover:bg-[#8B4513] transition-colors w-full",children:[(0,a.jsx)(o.e9S,{size:24}),(0,a.jsx)("span",{className:"text-lg font-semibold",children:"Cerrar Sesi\xf3n"})]})]}),(0,a.jsxs)("div",{className:"ml-64",children:[(0,a.jsxs)("div",{className:"relative h-64 w-full",children:[(0,a.jsx)(r.default,{src:"/images/hotel.jpg",alt:"Hotel Admin",fill:!0,className:"object-cover",priority:!0}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center px-8",children:(0,a.jsx)("h1",{className:"text-4xl font-bold text-white",children:"Gesti\xf3n de Habitaciones"})})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsx)("div",{className:"mb-6 flex justify-end",children:(0,a.jsxs)("button",{onClick:b,className:"bg-[#8B4513] text-white px-4 py-2 rounded-lg hover:bg-[#A0522D] transition-colors flex items-center space-x-2",children:[(0,a.jsx)(o.OiG,{size:20}),(0,a.jsx)("span",{children:"Agregar Habitaci\xf3n"})]})}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-[#8B4513]",children:["Habitaci\xf3n ",e.numero_habitacion]}),(0,a.jsx)("p",{className:"text-[#A0522D]",children:e.tipo_habitacion})]}),(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-sm ".concat(e.estado?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.estado?"Disponible":"Ocupada"})]}),(0,a.jsx)("div",{className:"space-y-2 mb-4",children:(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-[#A0522D]",children:"Precio por noche:"}),(0,a.jsxs)("span",{className:"text-[#8B4513] font-semibold",children:["$",e.precio]})]})}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)("button",{onClick:()=>u(e.id),className:"flex-1 bg-[#CD853F] text-white py-2 rounded-md hover:bg-[#DEB887] transition-colors flex items-center justify-center space-x-2",children:[(0,a.jsx)(o.uO9,{size:16}),(0,a.jsx)("span",{children:"Editar"})]}),(0,a.jsxs)("button",{onClick:()=>p(e.id),className:"flex-1 bg-red-600 text-white py-2 rounded-md hover:bg-red-700 transition-colors flex items-center justify-center space-x-2",children:[(0,a.jsx)(o.qbC,{size:16}),(0,a.jsx)("span",{children:"Eliminar"})]})]})]})},e.id))})]})})]}),(0,a.jsxs)("div",{className:"fixed top-4 right-4 flex space-x-4",children:[(0,a.jsx)("button",{className:"p-2 bg-white rounded-full shadow-lg hover:bg-gray-100",children:(0,a.jsx)(o.jNV,{size:24,className:"text-[#8B4513]"})}),(0,a.jsx)("button",{className:"p-2 bg-white rounded-full shadow-lg hover:bg-gray-100",children:(0,a.jsx)(o.Pcn,{size:24,className:"text-[#8B4513]"})})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[711,244,766,441,684,358],()=>t(5244)),_N_E=e.O()}]);