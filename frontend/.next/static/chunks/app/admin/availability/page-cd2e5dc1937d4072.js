(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[816],{4231:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(5155),i=s(2115),r=s(6766),n=s(6874),c=s.n(n),l=s(5695),o=s(9911);function d(){var e;let t=(0,l.useRouter)(),[s,n]=(0,i.useState)([]),[d,m]=(0,i.useState)(!0),[h,x]=(0,i.useState)(null),[p,b]=(0,i.useState)(null),[u,f]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(!localStorage.getItem("token"))return void t.push("/login");j()},[t]);let j=async()=>{try{let e=localStorage.getItem("token"),t=await fetch("".concat("http://localhost:8000","/api/habitaciones/"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){let e=(await t.json()).filter(e=>!0===e.estado);n(e)}else x("Error al cargar las habitaciones")}catch(e){x("Error de conexi\xf3n con el servidor")}finally{m(!1)}},g=e=>{b(e),f(!0),document.body.style.overflow="hidden"},v=()=>{f(!1),b(null),document.body.style.overflow="unset"},N=async()=>{if(p)try{let e=localStorage.getItem("token"),t=new FormData;t.append("tipo_habitacion",p.tipo_habitacion),t.append("numero_habitacion",p.numero_habitacion),t.append("precio",p.precio),t.append("estado",!p.estado),t.append("descripcion",p.descripcion||""),(await fetch("".concat("http://localhost:8000","/api/habitaciones/").concat(p.id,"/"),{method:"PUT",headers:{Authorization:"Bearer ".concat(e)},body:t})).ok?(await j(),v()):x("Error al actualizar el estado de la habitaci\xf3n")}catch(e){x("Error de conexi\xf3n con el servidor")}};return d?(0,a.jsx)("div",{className:"min-h-screen bg-[#FFF3E0] flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-black text-xl",children:"Cargando..."})}):h?(0,a.jsx)("div",{className:"min-h-screen bg-[#FFF3E0] flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-red-600 text-xl",children:h})}):(0,a.jsxs)("div",{className:"flex h-screen bg-gray-100 ".concat(u?"overflow-hidden":""),children:[(0,a.jsx)("div",{className:"w-64 bg-[#8B4513]",children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)(c(),{href:"/admin/home",className:"flex items-center p-4 text-white hover:bg-[#CD853F] transition-colors",children:[(0,a.jsx)(o.rQ8,{className:"mr-3",size:24}),(0,a.jsx)("span",{className:"text-lg",children:"Home"})]}),(0,a.jsxs)(c(),{href:"/admin/check-in",className:"flex items-center p-4 text-white hover:bg-[#CD853F] transition-colors",children:[(0,a.jsx)(o.Zu,{className:"mr-3",size:24}),(0,a.jsx)("span",{className:"text-lg",children:"Check-in"})]}),(0,a.jsxs)(c(),{href:"/admin/check-out",className:"flex items-center p-4 text-white hover:bg-[#CD853F] transition-colors",children:[(0,a.jsx)(o.axc,{className:"mr-3",size:24}),(0,a.jsx)("span",{className:"text-lg",children:"Check-out"})]}),(0,a.jsxs)(c(),{href:"/admin/habitaciones",className:"flex items-center p-4 text-white hover:bg-[#CD853F] transition-colors",children:[(0,a.jsx)(o.TiC,{className:"mr-3",size:24}),(0,a.jsx)("span",{className:"text-lg",children:"Habitaciones"})]}),(0,a.jsxs)(c(),{href:"/admin/availability",className:"flex items-center p-4 bg-[#CD853F] text-white hover:bg-[#DEB887] transition-colors",children:[(0,a.jsx)(o.TiC,{className:"mr-3",size:24}),(0,a.jsx)("span",{className:"text-lg",children:"Disponibilidad"})]}),(0,a.jsxs)(c(),{href:"/admin/notificaciones",className:"flex items-center p-4 text-white hover:bg-[#CD853F] transition-colors",children:[(0,a.jsx)(o.jNV,{className:"mr-3",size:24}),(0,a.jsx)("span",{className:"text-lg",children:"Notificaciones"})]}),(0,a.jsxs)(c(),{href:"/admin/configuraciones",className:"flex items-center p-4 text-white hover:bg-[#CD853F] transition-colors",children:[(0,a.jsx)(o.Pcn,{className:"mr-3",size:24}),(0,a.jsx)("span",{className:"text-lg",children:"Configuraciones"})]})]}),(0,a.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("refresh_token"),t.push("/login")},className:"flex items-center p-4 text-white hover:bg-[#A0522D] transition-colors",children:[(0,a.jsx)(o.e9S,{className:"mr-3",size:24}),(0,a.jsx)("span",{className:"text-lg",children:"Cerrar Sesi\xf3n"})]})]})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"h-64 relative",children:[(0,a.jsx)(r.default,{src:"/images/hotel.jpg",alt:"Hotel Banner",fill:!0,style:{objectFit:"cover"}}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center px-8",children:(0,a.jsx)("h1",{className:"text-4xl text-white font-bold",children:"Habitaciones Disponibles"})})]}),(0,a.jsx)("div",{className:"p-8",children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>{var t;return(0,a.jsxs)("div",{onClick:()=>g(e),className:"bg-white rounded-lg shadow-md overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",children:[(0,a.jsx)("div",{className:"w-full h-40 relative bg-gray-100",children:e.imagen?(0,a.jsx)(r.default,{src:(null==(t=e.imagen)?void 0:t.startsWith("http"))?e.imagen:"".concat("http://localhost:8000","/media/imagenes/habitaciones/").concat(e.imagen),alt:"Habitaci\xf3n ".concat(e.numero_habitacion),fill:!0,className:"object-cover rounded-t-lg"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"Sin imagen"})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold text-black mb-2",children:["Habitaci\xf3n ",e.numero_habitacion]}),(0,a.jsxs)("p",{className:"text-gray-600 mb-2",children:["Tipo: ",e.tipo_habitacion]}),(0,a.jsxs)("p",{className:"text-gray-600 mb-2",children:["Precio: $",e.precio]}),(0,a.jsx)("span",{className:"inline-block px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm",children:"Disponible"})]})]},e.id)})})})]}),u&&p&&(0,a.jsxs)("div",{className:"fixed inset-0 z-50",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm",onClick:v}),(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:(0,a.jsxs)("div",{className:"bg-white p-8 rounded-lg w-96 shadow-xl",children:[(0,a.jsx)("button",{onClick:v,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:(0,a.jsx)(o.QCr,{size:20})}),(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4 text-black",children:"Detalles de la Habitaci\xf3n"}),p.imagen&&(0,a.jsx)("div",{className:"mb-4 flex justify-center",children:(0,a.jsx)(r.default,{src:(null==(e=p.imagen)?void 0:e.startsWith("http"))?p.imagen:"".concat("http://localhost:8000","/media/imagenes/habitaciones/").concat(p.imagen),alt:"Habitaci\xf3n ".concat(p.numero_habitacion),width:180,height:120,className:"object-cover rounded"})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("p",{className:"text-black",children:[(0,a.jsx)("span",{className:"font-semibold",children:"N\xfamero:"})," ",p.numero_habitacion]}),(0,a.jsxs)("p",{className:"text-black",children:[(0,a.jsx)("span",{className:"font-semibold",children:"Tipo:"})," ",p.tipo_habitacion]}),(0,a.jsxs)("p",{className:"text-black",children:[(0,a.jsx)("span",{className:"font-semibold",children:"Precio:"})," $",p.precio]}),(0,a.jsxs)("p",{className:"text-black",children:[(0,a.jsx)("span",{className:"font-semibold",children:"Estado:"})," ",p.estado?"Disponible":"Ocupada"]}),(0,a.jsxs)("p",{className:"text-black",children:[(0,a.jsx)("span",{className:"font-semibold",children:"Descripci\xf3n:"})," ",p.descripcion||"Sin descripci\xf3n"]})]}),(0,a.jsx)("div",{className:"mt-6 flex justify-end space-x-2",children:(0,a.jsxs)("button",{onClick:N,className:"px-4 py-2 bg-[#8B4513] text-white rounded hover:bg-[#CD853F] transition-colors",children:["Marcar como ",p.estado?"Ocupada":"Disponible"]})})]})})]})]})}},4436:(e,t,s)=>{"use strict";s.d(t,{k5:()=>d});var a=s(2115),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},r=a.createContext&&a.createContext(i),n=["attr","size","title"];function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(Object(s),!0).forEach(function(t){var a,i,r;a=e,i=t,r=s[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var a=s.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in a?Object.defineProperty(a,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[i]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function d(e){return t=>a.createElement(m,c({attr:o({},e.attr)},t),function e(t){return t&&t.map((t,s)=>a.createElement(t.tag,o({key:s},t.attr),e(t.child)))}(e.child))}function m(e){var t=t=>{var s,{attr:i,size:r,title:l}=e,d=function(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}(e,n),m=r||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),a.createElement("svg",c({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,d,{className:s,style:o(o({color:e.color||t.color},t.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),l&&a.createElement("title",null,l),e.children)};return void 0!==r?a.createElement(r.Consumer,null,e=>t(e)):t(i)}},6285:(e,t,s)=>{Promise.resolve().then(s.bind(s,4231))}},e=>{var t=t=>e(e.s=t);e.O(0,[711,244,766,441,684,358],()=>t(6285)),_N_E=e.O()}]);